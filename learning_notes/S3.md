### üîπ CORE CONCEPTS
- Object-based storage: Store files (up to 5 TB) with metadata.
- Bucket: Top-level container, globally unique name.
- Object: Consists of key (filename), value (data), metadata, version ID (if versioning is enabled).

### üîí SECURITY
- IAM Policies: Control access at user/role level. 
- Bucket Policies: JSON-based, apply to entire buckets. Allow or deny access from other AWS accounts or anonymous users. 
- ACLs (Access Control Lists): Legacy, fine-grained, less preferred. 
- Encryption at rest:
  - SSE-S3: Managed keys by S3. 
  - SSE-KMS: Use AWS KMS CMKs (audit, rotation). 
  - SSE-C: Customer provides key. 
  - Client-side encryption: Encrypt before uploading. 
- Encryption in transit: HTTPS (TLS).

### üåê PUBLIC ACCESS
- Buckets are private by default. 
- Block Public Access (BPA): Account-level and bucket-level settings that override any public settings. 
- If BPA is ON, even a public bucket policy won‚Äôt work. 
- Static Website Hosting requires bucket to be public.

### üîÅ VERSIONING
- Disabled by default. Once enabled, can't be disabled (only suspended). 
- Keeps multiple versions of an object (even deleted ones).
- "Delete Marker" added when versioned object is deleted. 
- Enables MFA Delete for added protection.

### üß† MEMORY TIPS
| Scenario Keywords                  | Think of / Use                                |
| ---------------------------------- | --------------------------------------------- |
| ‚ÄúStatic website‚Äù                   | S3 (public), must disable Block Public Access |
| ‚ÄúAudit encryption key usage‚Äù       | SSE-KMS with CloudTrail                       |
| ‚ÄúCustomer-supplied key‚Äù            | SSE-C                                         |
| ‚ÄúPre-signed URL‚Äù                   | Temporary access to object with credentials   |
| ‚ÄúDelete but keep data recoverable‚Äù | Versioning                                    |
| ‚ÄúPrevent deletion of objects‚Äù      | Enable Versioning + MFA Delete                |

### üí° PRE-SIGNED URLS
- Generated by SDK/CLI using credentials and bucket permissions. 
- Time-limited URL for upload or download. 
- Often used to grant temporary access to private files.

### ‚öôÔ∏è STORAGE CLASSES
| Class Name              | Use Case                           | Durability & Availability     | Notes                             |
| ----------------------- | ---------------------------------- | ----------------------------- | --------------------------------- |
| Standard                | Frequently accessed data           | 11 9s durability, high avail. | Default                           |
| Intelligent-Tiering     | Automatic cost optimization        | Same as Standard              | Moves between tiers automatically |
| Standard-IA             | Infrequent access, quick retrieval | 11 9s, low avail              | Min 30-day storage charge         |
| One Zone-IA             | Infrequent access, non-critical    | One AZ, cheaper               | No multi-AZ resilience            |
| Glacier Instant         | Archive, instant access            | Milliseconds retrieval        | Cheaper than IA                   |
| Glacier Flexible        | Archive, delayed access            | Mins to hours retrieval       | Cheaper than Instant              |
| Glacier Deep Archive    | Cold archive, rarely accessed      | Hours retrieval               | Cheapest, min 180-day storage     |
| Reduced Redundancy (RR) | Legacy (not recommended)           | Lower durability              | Avoid for exam                    |

### üîÅ LIFECYCLE RULES
- Automate transitions between storage classes or deletion.
- Can apply to current and non-current versions (not both at the same time).
- Common use case:
  - Move to IA after 30 days 
  - Move to Glacier after 90 days 
  - Delete after 1 year

### üîÅ MULTIPART UPLOAD
- Used for uploading large files - recommended >100MB (required >5GB). 
- Splits file into parts and uploads in parallel. 
  - Minimum part size: 5 MB (not GB!) for all parts except the last part. 
  - You can have up to 10,000 parts
- Supports resume and pause. 
- Use AbortMultipartUpload lifecycle rule to clean incomplete uploads.

### üåç STATIC WEBSITE HOSTING
- Enable in bucket properties. 
- Must be public (update bucket policy & disable BPA). 
- Can serve index.html and error.html. 
- No HTTPS unless fronted with CloudFront.

### ‚ö†Ô∏è CROSS-REGION REPLICATION (CRR)
- Requires:
  - Versioning enabled in both source and destination. 
  - IAM role for replication.
- Use case: DR, latency reduction. 
- Can replicate existing or new objects

### üö´ S3 EVENT NOTIFICATIONS
- Can trigger:
  - SNS 
  - SQS 
  - Lambda
- Triggered on object creation, deletion, restore, etc.
- Lambda triggers can be filtered by prefix/suffix.
- Event notifications do NOT support delete marker events.

### üîê ACCESS POINTS
- Named network endpoints with specific policies for accessing buckets.
- Useful for large shared buckets and VPC access.

### ‚ö†Ô∏è POTENTIAL TRAPS
| Trick/Trap                                  | Explanation                                                                  |
| ------------------------------------------- |------------------------------------------------------------------------------|
| Block Public Access overrides bucket policy | BPA will block all public access even if policy allows                       |
| Lifecycle rules apply to versions           | Be careful: rules can act only on current or non-current versions (not both) |
| Versioning cannot be disabled               | Only suspended, data is still kept unless deleted manually                   |
| Multipart uploads left incomplete           | May incur charges; set lifecycle rule to clean                               |
| MFA Delete not available via console        | Only via CLI                                                                 |
| Glacier retrieval costs/time                | Glacier is NOT for real-time access                                          |
| Pre-signed URLs require valid IAM           | Must have correct permissions on object                                      |

### üõ†Ô∏è DEV/OPS TIPS
- Enable S3 Access Logs to log all access requests.
- Use S3 Object Lock (governance or compliance mode) for write-once-read-many (WORM):
  - **Governance mode:** Protects the object, but authorized IAM users (with special permissions like s3:BypassGovernanceRetention) can override or delete it before the retention period ends.
  - **Compliance Mode üîí**: Absolute lock ‚Äî nobody, not even the root user, can modify or delete the object until the retention period expires (retention period can't be modified).
- For large-scale ingestion: consider S3 Transfer Acceleration or Direct Connect.
  - **S3 Transfer Acceleration üöÄ**:
    - Uses Amazon CloudFront‚Äôs edge locations to speed up uploads.
    - Keywords: ‚ÄúUsers across the globe uploading large files to a bucket in another region‚Äù
  - **AWS Direct Connect (DX)** üîå:
    - A dedicated physical network link between your on-premises data center and AWS (low-latency).
    - Great for massive daily ingestion, data center migration, hybrid cloud setups.
    - Keywords: ‚ÄúConsistent high bandwidth from corporate data center to AWS‚Äù

### ‚öôÔ∏è S3 Integration with Other Services
- Lambda triggers on object creation/deletion for serverless workflows.
- CloudTrail logs S3 API calls for auditing.
- EventBridge can react to S3 events indirectly via Lambda or SNS.
- AWS Backup supports S3 backups with versioning.
- CloudFront + S3 for CDN and HTTPS distribution.
- IAM & Bucket Policies: Control access at both user and resource levels.

### üìù Exam Scenario Tips
- If question says ‚Äútrigger function on file upload‚Äù ‚Üí think S3 Event Notification to Lambda.
- For static website hosting + HTTPS ‚Üí CloudFront + ACM is mandatory.
- If ‚Äúreplicate data between regions‚Äù ‚Üí Versioning + Cross-Region Replication (CRR).
- ‚ÄúMinimize cost but keep data available immediately‚Äù ‚Üí Use Intelligent Tiering or Standard-IA, but not Glacier (which is archival).
- ‚ÄúCompliance with write-once-read-many‚Äù ‚Üí Use S3 Object Lock with Governance or Compliance mode.
- ‚ÄúControl who can access bucket and from where‚Äù ‚Üí Use Bucket Policies + VPC Endpoint Policies + IAM Roles.

### Bonus: Common Exam Traps
- Assuming S3 static website supports HTTPS natively ‚Äî it doesn‚Äôt.
- Confusing bucket policies with IAM user policies.
- Forgetting to enable versioning for Cross-Region Replication.
- Not accounting for the 5MB minimum part size in multipart uploads (except last part).
- Assuming lifecycle rules affect all versions (they must target current or non-current separately).
- Not realizing that you can configure S3 Event Notifications only on PUT, POST, DELETE, and COPY operations, not all API calls.