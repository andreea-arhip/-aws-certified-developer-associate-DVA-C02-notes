### üîπ CORE CONCEPTS
- Object-based storage: Store files (up to 5 TB) with metadata.
- Bucket: Top-level container, globally unique name.
- Object: Consists of key (filename), value (data), metadata, version ID (if versioning is enabled).

### üîí SECURITY
- IAM Policies: Control access at user/role level. 
- Bucket Policies: JSON-based, apply to entire buckets. Allow or deny access from other AWS accounts or anonymous users. 
- ACLs (Access Control Lists): Legacy, fine-grained, less preferred. 
- Encryption at rest:
  - SSE-S3: Managed keys by S3. 
  - SSE-KMS: Use AWS KMS CMKs (audit, rotation). 
  - SSE-C: Customer provides key. 
  - Client-side encryption: Encrypt before uploading. 
- Encryption in transit: HTTPS (TLS).

### üåê PUBLIC ACCESS
- Buckets are private by default. 
- Block Public Access (BPA): Account-level and bucket-level settings that override any public settings. 
- If BPA is ON, even a public bucket policy won‚Äôt work. 
- Static Website Hosting requires bucket to be public.

### üîÅ VERSIONING
- Disabled by default. Once enabled, can't be disabled (only suspended). 
- Keeps multiple versions of an object (even deleted ones).
- "Delete Marker" added when versioned object is deleted. 
- Enables MFA Delete for added protection.

### üß† MEMORY TIPS
| Scenario Keywords                  | Think of / Use                                |
| ---------------------------------- | --------------------------------------------- |
| ‚ÄúStatic website‚Äù                   | S3 (public), must disable Block Public Access |
| ‚ÄúAudit encryption key usage‚Äù       | SSE-KMS with CloudTrail                       |
| ‚ÄúCustomer-supplied key‚Äù            | SSE-C                                         |
| ‚ÄúPre-signed URL‚Äù                   | Temporary access to object with credentials   |
| ‚ÄúDelete but keep data recoverable‚Äù | Versioning                                    |
| ‚ÄúPrevent deletion of objects‚Äù      | Enable Versioning + MFA Delete                |

### üí° PRE-SIGNED URLS
- Generated by SDK/CLI using credentials and bucket permissions. 
- Time-limited URL for upload or download. 
- Often used to grant temporary access to private files.

### ‚öôÔ∏è STORAGE CLASSES
| Class Name              | Use Case                           | Durability & Availability     | Notes                             |
| ----------------------- | ---------------------------------- | ----------------------------- | --------------------------------- |
| Standard                | Frequently accessed data           | 11 9s durability, high avail. | Default                           |
| Intelligent-Tiering     | Automatic cost optimization        | Same as Standard              | Moves between tiers automatically |
| Standard-IA             | Infrequent access, quick retrieval | 11 9s, low avail              | Min 30-day storage charge         |
| One Zone-IA             | Infrequent access, non-critical    | One AZ, cheaper               | No multi-AZ resilience            |
| Glacier Instant         | Archive, instant access            | Milliseconds retrieval        | Cheaper than IA                   |
| Glacier Flexible        | Archive, delayed access            | Mins to hours retrieval       | Cheaper than Instant              |
| Glacier Deep Archive    | Cold archive, rarely accessed      | Hours retrieval               | Cheapest, min 180-day storage     |
| Reduced Redundancy (RR) | Legacy (not recommended)           | Lower durability              | Avoid for exam                    |

### üîÅ LIFECYCLE RULES
- Automate transitions between storage classes or deletion.
- Can apply to current and non-current versions.
- Common use case:
  - Move to IA after 30 days 
  - Move to Glacier after 90 days 
  - Delete after 1 year

### üîÅ MULTIPART UPLOAD
- Used for uploading large files >100MB (required >5GB). 
- Splits file into parts and uploads in parallel. 
- Supports resume and pause. 
- Use AbortMultipartUpload lifecycle rule to clean incomplete uploads.

### üåç STATIC WEBSITE HOSTING
- Enable in bucket properties. 
- Must be public (update bucket policy & disable BPA). 
- Can serve index.html and error.html. 
- No HTTPS unless fronted with CloudFront.

### ‚ö†Ô∏è CROSS-REGION REPLICATION (CRR)
- Requires:
  - Versioning enabled in both source and destination. 
  - IAM role for replication.
- Use case: DR, latency reduction. 
- Can replicate existing or new objects

### üö´ S3 EVENT NOTIFICATIONS
- Can trigger:
  - SNS 
  - SQS 
  - Lambda
- Triggered on object creation, deletion, restore, etc.
- Lambda triggers can be filtered by prefix/suffix.
- Event notifications do NOT support delete marker events.

### üîê ACCESS POINTS
- Named network endpoints with specific policies for accessing buckets.
- Useful for large shared buckets and VPC access.

### ‚ö†Ô∏è POTENTIAL TRAPS
| Trick/Trap                                  | Explanation                                                       |
| ------------------------------------------- | ----------------------------------------------------------------- |
| Block Public Access overrides bucket policy | BPA will block all public access even if policy allows            |
| Lifecycle rules apply to versions           | Be careful: rules can act only on current or non-current versions |
| Versioning cannot be disabled               | Only suspended, data is still kept unless deleted manually        |
| Multipart uploads left incomplete           | May incur charges; set lifecycle rule to clean                    |
| MFA Delete not available via console        | Only via CLI                                                      |
| Glacier retrieval costs/time                | Glacier is NOT for real-time access                               |
| Pre-signed URLs require valid IAM           | Must have correct permissions on object                           |

### üõ†Ô∏è DEV/OPS TIPS
- Enable S3 Access Logs to log all access requests.
- Use S3 Object Lock (governance or compliance mode) for write-once-read-many (WORM).
- For large-scale ingestion: consider S3 Transfer Acceleration or Direct Connect.



